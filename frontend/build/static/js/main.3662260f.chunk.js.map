{"version":3,"sources":["core/index.js","modules lazy /^/.*$/ groupOptions: {} namespace object","core lazy /^.*$/ groupOptions: {} namespace object","components/PrivateRoute.js","components/SignIn.js","components/PrivateApp/Dashboard/Room.js","components/PrivateApp/Loading.js","components/PrivateApp/Dashboard/index.js","components/NoMatch.js","components/PrivateApp/Users/Users.js","components/PrivateApp/Users/User.js","components/PrivateApp/Users/CreateUser.js","components/PrivateApp/Users/index.js","components/PrivateApp/DrawerDashboardList.js","components/PrivateApp/DrawerContent.js","components/PrivateApp/index.js","components/App.js","serviceWorker.js","index.js","core/useFetch.js","core/UserData.js","core/Auth.js"],"names":["WebCore","_this","Object","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_3__","this","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_5__","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_6__","call","modules","auth","Auth","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_7__","axios","create","baseURL","process","data","token","request","_objectSpread","headers","Authorization","getToken","_this2","isAuthenticated","console","error","socket","reconnect","clientId","userData","id","Date","now","connect","username","password","on","emit","topic","message","JSON","parse","toString","log","concat","e","_this3","force","arguments","length","undefined","Promise","resolve","end","callback","subscribe","unsubscribe","removeListener","opts","publish","stringify","newModules","filter","config","_this4","hasOwnProperty","all","map","local","__webpack_require__","forEach","Component","index","moduleConfig","EventEmitter","__webpack_exports__","./buzzer","./buzzer/","./buzzer/HistoryModal","./buzzer/HistoryModal.js","./buzzer/Notification","./buzzer/Notification.js","./buzzer/Widget","./buzzer/Widget.js","./buzzer/constants","./buzzer/constants.js","./buzzer/index","./buzzer/index.js","./motion-switch","./motion-switch/","./motion-switch/index","./motion-switch/index.js","./plant","./plant/","./plant/HistoryItem","./plant/HistoryItem.js","./plant/Modal","./plant/Modal.js","./plant/Widget","./plant/Widget.js","./plant/constants","./plant/constants.js","./plant/index","./plant/index.js","./rgb","./rgb/","./rgb/Dialog","./rgb/Dialog.js","./rgb/constants","./rgb/constants.js","./rgb/index","./rgb/index.js","./switch","./switch/","./switch/index","./switch/index.js","./variable","./variable/","./variable/HistoryModal","./variable/HistoryModal.js","./variable/Widget","./variable/Widget.js","./variable/index","./variable/index.js","webpackAsyncContext","req","o","then","Error","code","ids","slice","keys","module","exports",".","./","./Auth","./Auth.js","./UserData","./UserData.js","./index","./index.js","./useFetch","./useFetch.js","PrivateRoute","_ref","component","rest","objectWithoutProperties","react_default","a","createElement","react_router","assign","render","props","core","to","pathname","state","from","location","useStyles","makeStyles","theme","@global","body","backgroundColor","palette","common","white","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","secondary","main","form","width","submit","SignIn","_React$useState","React","useState","_React$useState2","slicedToArray","setUsername","_React$useState3","_React$useState4","setPassword","_React$useState5","_React$useState6","remember","setRemember","_React$useState7","_React$useState8","loading","setLoading","_React$useState9","_React$useState10","success","setSuccess","_React$useState11","_React$useState12","setError","classes","handleSubmit","_ref2","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","preventDefault","login","sent","t0","response","stop","_x","apply","Container","maxWidth","className","Avatar","LockOutlined_default","Typography","variant","onSubmit","TextField","required","fullWidth","label","name","autoComplete","value","onChange","target","autoFocus","type","FormControlLabel","control","Checkbox","color","checked","FormHelperText","Button","root","padding","borderRadius","shape","title","marginBottom","itemGroup","Item","Module","default","key","ItemGroup","items","Grid","container","item","Room_Item","Room","_ref3","itemGroups","lg","md","sm","xs","Paper","elevation","Room_ItemGroup","justifyContent","full","small","hidden","opacity","Loading","_ref$delay","delay","_ref$size","size","_ref$thickness","thickness","_ref$variant","_useState","Boolean","_useState2","show","setShow","useEffect","timer","setTimeout","clearTimeout","clsx","defineProperty","CircularProgress","Dashboard","isLoading","setIsLoading","_useState3","_useState4","_useState5","_useState6","rooms","setRooms","onConnect","dashboardId","res","match","params","dashboard","authenticatedRequest","url","method","responseType","ok","abrupt","loadModules","onDisconnect","connected","off","Box","bgcolor","p","room","Dashboard_Room","NoMatch","header","fab","position","bottom","right","Users","_useFetch","useFetch","_useFetch2$","List","users","user","ListItem","button","Link","ListItemIcon","Person_default","ListItemText","primary","user_id","room_id","Fab","aria-label","Add_default","defaultUser","api_key","last_login_at","User","userId","values","setValues","isSuccess","setIsSuccess","handleChange","event","_data","InputProps","readOnly","toLocaleString","FormControl","CreateUser","CreateUser_objectSpread","PrivateApp_Users","Fragment","path","exact","DrawerDashboardList","dashboards","esm_Dashboard","DrawerContent","onLogout","Divider","People_default","onClick","ExitToApp_default","appBar","zIndex","drawer","menuButton","marginRight","breakpoints","up","flexShrink","drawerPaper","flexGrow","fontFamily","fontWeight","content","only","toolbar","mixins","PrivateApp","history","useTheme","anchorEl","setAnchorEl","mobileOpen","setMobileOpen","open","logOut","signOut","disconnect","push","handleDrawerToggle","_callee2","_context2","AppBar","Toolbar","IconButton","edge","Menu_default","aria-controls","aria-haspopup","currentTarget","AccountCircle_default","Menu_Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","onClose","PaperProps","style","MenuItem","disabled","divider","Hidden","mdUp","implementation","Drawer","anchor","direction","ModalProps","smDown","App","react_router_dom","CssBaseline","components_PrivateRoute","window","hostname","sh","ReactDOM","components_App","document","getElementById","navigator","serviceWorker","ready","registration","unregister","dataFetchReducer","action","payload","initialRequestData","initialData","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_slicedToArray__WEBPACK_IMPORTED_MODULE_2__","requestData","setRequestData","_useReducer","useReducer","_useReducer2","dispatch","didCancel","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_1__","D_JS_sh_frontend_node_modules_babel_runtime_regenerator__WEBPACK_IMPORTED_MODULE_0___default","result","fetchData","UserData","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","D_JS_sh_frontend_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","loadFromStorage","userDataStr","localStorage","getItem","storageKey","storage","sessionStorage","createFromData","setItem","removeItem"],"mappings":"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","file":"static/js/main.3662260f.chunk.js","sourcesContent":["import Auth from './Auth';\r\nimport { EventEmitter } from 'events';\r\nimport axios from 'axios';\r\nimport { connect } from 'mqtt';\r\n\r\nclass WebCore extends EventEmitter {\r\n  /**\r\n   * @type Auth\r\n   */\r\n  auth;\r\n\r\n  /**\r\n   * @type AxiosInstance\r\n   */\r\n  axios;\r\n\r\n  /**\r\n   * @type MqttClient\r\n   */\r\n  socket;\r\n\r\n  /**\r\n   * Loaded modules\r\n   */\r\n  modules = {};\r\n\r\n  constructor() {\r\n    super();\r\n\r\n    this.auth = new Auth(this);\r\n    this.axios = axios.create({\r\n      baseURL: process.env.REACT_APP_API_URL,\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Make a request with an authentication token if exists\r\n   *\r\n   * @param {AxiosRequestConfig} data\r\n   * @param {string?} token\r\n   * @returns {Promise<AxiosResponse>}\r\n   */\r\n  authenticatedRequest(data, token) {\r\n    return this.axios.request({\r\n      ...data,\r\n      headers: {\r\n        Authorization: token || this.auth.getToken(),\r\n        ...data.headers,\r\n      },\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Connecto to the MQTT WebSocket\r\n   */\r\n  connect() {\r\n    if (!this.auth.isAuthenticated()) {\r\n      console.error('Connect requires authentication');\r\n      return false;\r\n    }\r\n\r\n    if (this.socket) {\r\n      this.socket.reconnect();\r\n    } else {\r\n      const clientId = this.auth.userData.id + '@' + (Date.now() / 1000 | 0); // https://stackoverflow.com/a/221297/4009260\r\n\r\n      this.socket = connect(process.env.REACT_APP_MQTT_URL, {\r\n        clientId,\r\n        username: 'user',\r\n        password: this.auth.userData.token,\r\n      });\r\n\r\n      this.socket.on('connect', () => this.emit('connect'));\r\n      this.socket.on('offline', () => this.emit('disconnect'));\r\n      this.socket.on('disconnect', () => this.emit('disconnect'));\r\n      this.socket.on('close', () => this.emit('disconnect'));\r\n\r\n      this.socket.on('message', (topic, message) => {\r\n        try {\r\n          const data = JSON.parse(message.toString());\r\n\r\n          console.log('Socket json:', topic, data);\r\n\r\n          this.emit(`topic-${topic}`, data);\r\n        } catch (e) {\r\n          console.log('Socket: ', message, e);\r\n\r\n          this.emit('message', message, topic);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Disconnect from mqtt websocket\r\n   * @param force\r\n   * @returns {Promise<boolean>}\r\n   */\r\n  disconnect(force = false) {\r\n    return new Promise(resolve => this.socket.end(force, resolve));\r\n  }\r\n\r\n  /**\r\n   * @param {string} topic\r\n   * @param callback\r\n   */\r\n  subscribe(topic, callback) {\r\n    this.socket.subscribe(topic);\r\n\r\n    this.on(`topic-${topic}`, callback);\r\n  }\r\n\r\n  /**\r\n   * @param {string} topic\r\n   * @param callback\r\n   */\r\n  unsubscribe(topic, callback) {\r\n    this.socket.unsubscribe(topic);\r\n\r\n    this.removeListener(`topic-${topic}`, callback);\r\n  }\r\n\r\n  /**\r\n   * @param {string} topic\r\n   * @param data\r\n   * @param [opts]\r\n   * @param [callback]\r\n   */\r\n  publishJson(topic, data = '', opts, callback) {\r\n    this.socket.publish(topic, JSON.stringify(data), opts, callback);\r\n  }\r\n\r\n  /**\r\n   * @param {Object<id,...rest>[]} modules\r\n   */\r\n  async loadModules(modules) {\r\n    const newModules = modules.filter(config => !this.modules.hasOwnProperty(config.id));\r\n\r\n    const modulesComponents = await Promise.all(newModules.map((config) => {\r\n      if (config.local) {\r\n        return import(`../modules/${config.id}`);\r\n      }\r\n\r\n      return import(`${config.id}`);\r\n    }));\r\n\r\n    modulesComponents.forEach((Component, index) => {\r\n      const moduleConfig = modules[index];\r\n\r\n      this.modules[moduleConfig.id] = Component;\r\n      this.modules[moduleConfig.id].config = moduleConfig;\r\n    });\r\n  }\r\n}\r\n\r\nexport default new WebCore();\r\n","var map = {\n\t\"./buzzer\": [\n\t\t91,\n\t\t4,\n\t\t5\n\t],\n\t\"./buzzer/\": [\n\t\t91,\n\t\t4,\n\t\t5\n\t],\n\t\"./buzzer/HistoryModal\": [\n\t\t184,\n\t\t12\n\t],\n\t\"./buzzer/HistoryModal.js\": [\n\t\t184,\n\t\t12\n\t],\n\t\"./buzzer/Notification\": [\n\t\t185,\n\t\t14\n\t],\n\t\"./buzzer/Notification.js\": [\n\t\t185,\n\t\t14\n\t],\n\t\"./buzzer/Widget\": [\n\t\t186,\n\t\t15\n\t],\n\t\"./buzzer/Widget.js\": [\n\t\t186,\n\t\t15\n\t],\n\t\"./buzzer/constants\": [\n\t\t178,\n\t\t17\n\t],\n\t\"./buzzer/constants.js\": [\n\t\t178,\n\t\t17\n\t],\n\t\"./buzzer/index\": [\n\t\t91,\n\t\t4,\n\t\t5\n\t],\n\t\"./buzzer/index.js\": [\n\t\t91,\n\t\t4,\n\t\t5\n\t],\n\t\"./motion-switch\": [\n\t\t92,\n\t\t6,\n\t\t10\n\t],\n\t\"./motion-switch/\": [\n\t\t92,\n\t\t6,\n\t\t10\n\t],\n\t\"./motion-switch/index\": [\n\t\t92,\n\t\t6,\n\t\t10\n\t],\n\t\"./motion-switch/index.js\": [\n\t\t92,\n\t\t6,\n\t\t10\n\t],\n\t\"./plant\": [\n\t\t93,\n\t\t3,\n\t\t9\n\t],\n\t\"./plant/\": [\n\t\t93,\n\t\t3,\n\t\t9\n\t],\n\t\"./plant/HistoryItem\": [\n\t\t187,\n\t\t13\n\t],\n\t\"./plant/HistoryItem.js\": [\n\t\t187,\n\t\t13\n\t],\n\t\"./plant/Modal\": [\n\t\t194,\n\t\t3\n\t],\n\t\"./plant/Modal.js\": [\n\t\t194,\n\t\t3\n\t],\n\t\"./plant/Widget\": [\n\t\t188,\n\t\t18\n\t],\n\t\"./plant/Widget.js\": [\n\t\t188,\n\t\t18\n\t],\n\t\"./plant/constants\": [\n\t\t180,\n\t\t19\n\t],\n\t\"./plant/constants.js\": [\n\t\t180,\n\t\t19\n\t],\n\t\"./plant/index\": [\n\t\t93,\n\t\t3,\n\t\t9\n\t],\n\t\"./plant/index.js\": [\n\t\t93,\n\t\t3,\n\t\t9\n\t],\n\t\"./rgb\": [\n\t\t94,\n\t\t0,\n\t\t2,\n\t\t7\n\t],\n\t\"./rgb/\": [\n\t\t94,\n\t\t0,\n\t\t2,\n\t\t7\n\t],\n\t\"./rgb/Dialog\": [\n\t\t189,\n\t\t0,\n\t\t2,\n\t\t16\n\t],\n\t\"./rgb/Dialog.js\": [\n\t\t189,\n\t\t0,\n\t\t2,\n\t\t16\n\t],\n\t\"./rgb/constants\": [\n\t\t179,\n\t\t20\n\t],\n\t\"./rgb/constants.js\": [\n\t\t179,\n\t\t20\n\t],\n\t\"./rgb/index\": [\n\t\t94,\n\t\t0,\n\t\t2,\n\t\t7\n\t],\n\t\"./rgb/index.js\": [\n\t\t94,\n\t\t0,\n\t\t2,\n\t\t7\n\t],\n\t\"./switch\": [\n\t\t95,\n\t\t11\n\t],\n\t\"./switch/\": [\n\t\t95,\n\t\t11\n\t],\n\t\"./switch/index\": [\n\t\t95,\n\t\t11\n\t],\n\t\"./switch/index.js\": [\n\t\t95,\n\t\t11\n\t],\n\t\"./variable\": [\n\t\t96,\n\t\t0,\n\t\t1,\n\t\t8\n\t],\n\t\"./variable/\": [\n\t\t96,\n\t\t0,\n\t\t1,\n\t\t8\n\t],\n\t\"./variable/HistoryModal\": [\n\t\t191,\n\t\t0,\n\t\t1,\n\t\t21\n\t],\n\t\"./variable/HistoryModal.js\": [\n\t\t191,\n\t\t0,\n\t\t1,\n\t\t21\n\t],\n\t\"./variable/Widget\": [\n\t\t192,\n\t\t22\n\t],\n\t\"./variable/Widget.js\": [\n\t\t192,\n\t\t22\n\t],\n\t\"./variable/index\": [\n\t\t96,\n\t\t0,\n\t\t1,\n\t\t8\n\t],\n\t\"./variable/index.js\": [\n\t\t96,\n\t\t0,\n\t\t1,\n\t\t8\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\n\tvar ids = map[req], id = ids[0];\n\treturn Promise.all(ids.slice(1).map(__webpack_require__.e)).then(function() {\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 305;\nmodule.exports = webpackAsyncContext;","var map = {\n\t\".\": 10,\n\t\"./\": 10,\n\t\"./Auth\": 78,\n\t\"./Auth.js\": 78,\n\t\"./UserData\": 73,\n\t\"./UserData.js\": 73,\n\t\"./index\": 10,\n\t\"./index.js\": 10,\n\t\"./useFetch\": 47,\n\t\"./useFetch.js\": 47\n};\n\nfunction webpackAsyncContext(req) {\n\treturn Promise.resolve().then(function() {\n\t\tif(!__webpack_require__.o(map, req)) {\n\t\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t}\n\n\t\tvar id = map[req];\n\t\treturn __webpack_require__(id);\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = 306;\nmodule.exports = webpackAsyncContext;","import React from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport core from '../core';\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n  return (\r\n    <Route\r\n      {...rest}\r\n      render={props =>\r\n        core.auth.isAuthenticated()\r\n          ? <Component {...props} />\r\n          : <Redirect to={{\r\n            pathname: '/login',\r\n            state: { from: props.location },\r\n          }}/>\r\n      }\r\n    />\r\n  );\r\n}\r\n\r\nexport default PrivateRoute;","import React from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { Redirect } from 'react-router-dom';\nimport FormHelperText from '@material-ui/core/FormHelperText';\nimport core from '../core';\n\nconst useStyles = makeStyles(theme => ({\n  '@global': {\n    body: {\n      backgroundColor: theme.palette.common.white,\n    },\n  },\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nconst SignIn = ({ location }) => {\n  const [username, setUsername] = React.useState('');\n  const [password, setPassword] = React.useState('');\n  const [remember, setRemember] = React.useState(false);\n  const [loading, setLoading] = React.useState(false);\n  const [success, setSuccess] = React.useState(false);\n  const [error, setError] = React.useState(null);\n\n  const classes = useStyles();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    setLoading(true);\n\n    try {\n      const user = await core.auth.login(username, password, remember);\n\n      if (user) {\n        setLoading(false);\n        setSuccess(true);\n      } else {\n        setError('Error');\n      }\n    } catch (e) {\n      setLoading(false);\n\n      let message = e.message;\n\n      if (e.response && e.response.data && e.response.data.message) {\n        message = e.response.data.message;\n      }\n\n      setError(message);\n    }\n  };\n\n  const { from } = location.state || { from: { pathname: '/' } };\n\n  if (success) return <Redirect to={from}/>;\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon/>\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign in\n        </Typography>\n        <form className={classes.form} onSubmit={handleSubmit}>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"username\"\n            label=\"Username\"\n            name=\"username\"\n            autoComplete=\"username\"\n            value={username}\n            onChange={e => setUsername(e.target.value)}\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            value={password}\n            onChange={e => setPassword(e.target.value)}\n            autoComplete=\"current-password\"\n          />\n          <FormControlLabel\n            control={<Checkbox\n              value=\"remember\"\n              color=\"primary\"\n              checked={remember}\n              onChange={e => setRemember(e.target.checked)\n              }/>}\n            label=\"Remember me\"\n          />\n          {error && <FormHelperText error>{error}</FormHelperText>}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            {loading ? 'Loading...' : 'Sign In'}\n          </Button>\n        </form>\n      </div>\n    </Container>\n  );\n};\n\nexport default SignIn;","import React from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport core from '../../../core';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    padding: theme.spacing(2, 3),\r\n    borderRadius: theme.shape.borderRadius * 4,\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(),\r\n  },\r\n  itemGroup: {\r\n    marginBottom: theme.spacing(),\r\n  }\r\n}));\r\n\r\nconst Item = ({ id, module, ...rest }) => {\r\n  const Module = core.modules[module];\r\n\r\n  return <Module.default key={id} core={core} {...Module.config} id={id} {...rest}/>;\r\n};\r\n\r\nconst ItemGroup = ({ items }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid container spacing={1} className={classes.itemGroup}>\r\n      {items.map(item => <Item key={item.id} {...item}/>)}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nconst Room = ({name, items: itemGroups }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Grid item lg={6} md={6} sm={12} xs={12}>\r\n      <Paper className={classes.root} elevation={2}>\r\n        <Typography variant=\"h5\" component=\"h3\" className={classes.title}>\r\n          {name}\r\n        </Typography>\r\n\r\n        {itemGroups.map((itemGroup, index) => <ItemGroup key={index} items={itemGroup}/>)}\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Room;\r\n","import React, { useEffect, useState } from 'react';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport clsx from 'clsx';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n  },\r\n  full: {\r\n    padding: theme.spacing(10, 0),\r\n  },\r\n  small: {\r\n    padding: theme.spacing(1, 0),\r\n  },\r\n  hidden: {\r\n    opacity: 0,\r\n  },\r\n}));\r\n\r\n/**\r\n * @param {(\"full\"|\"small\")} variant\r\n * @param delay\r\n * @param size\r\n * @param thickness\r\n */\r\nexport default ({ delay = 1000, size = 100, thickness = 2.6, variant = 'full' }) => {\r\n  const classes = useStyles();\r\n  const [show, setShow] = useState(!Boolean(delay));\r\n\r\n  useEffect(() => {\r\n    if (delay) {\r\n      const timer = setTimeout(() => setShow(true), delay);\r\n\r\n      return () => clearTimeout(timer);\r\n    }\r\n  });\r\n\r\n  // TODO: show\r\n  return (\r\n    <div className={clsx(classes.root, classes[variant], {\r\n      [classes.hidden]: !show,\r\n    })}>\r\n      <CircularProgress size={size} thickness={thickness}/>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport core from '../../../core';\r\nimport Room from './Room';\r\nimport Loading from '../Loading';\r\n\r\nconst Dashboard = (props) => {\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [rooms, setRooms] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const onConnect = async () => {\r\n      setIsLoading(true);\r\n\r\n      const dashboardId = props.match.params.dashboard || 'main';\r\n\r\n      console.log(`Loading dashboard data for id ${dashboardId}...`);\r\n\r\n      try {\r\n        const res = await core.authenticatedRequest({\r\n          url: `/dashboard/${dashboardId}`,\r\n          method: 'get',\r\n          responseType: 'json',\r\n        });\r\n\r\n        if (!res.data.ok) {\r\n          setIsLoading(false);\r\n          setError('Invalid dashboard data');\r\n          return;\r\n        }\r\n\r\n        console.log(res.data);\r\n\r\n        await core.loadModules(res.data.modules);\r\n\r\n        setIsLoading(false);\r\n        setError(null);\r\n        setRooms(res.data.items);\r\n      } catch (e) {\r\n        setIsLoading(false);\r\n        setError(e.message);\r\n      }\r\n    };\r\n\r\n    const onDisconnect = () => {\r\n      console.log('Dashboard socket offline');\r\n\r\n      setIsLoading(true);\r\n    };\r\n\r\n    core.on('connect', onConnect);\r\n    core.on('disconnect', onDisconnect);\r\n\r\n    if (core.socket && core.socket.connected) {\r\n      onConnect();\r\n    }\r\n\r\n    return () => {\r\n      core.off('connect', onConnect);\r\n      core.off('disconnect', onDisconnect);\r\n    };\r\n  }, [props.match.params.dashboard]);\r\n\r\n  if (isLoading) {\r\n    return <Loading/>;\r\n  } else if (error) {\r\n    return (\r\n      <Box bgcolor=\"error.main\" color=\"background.paper\" p={2}>\r\n        {error}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Grid container spacing={2}>\r\n      {rooms.map(room => <Room key={room.id} {...room}/>)}\r\n    </Grid>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","import React from 'react';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nconst NoMatch = () => <Typography variant=\"h3\">404  Not Found</Typography>;\r\n\r\nexport default NoMatch;\r\n","import React from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport Person from '@material-ui/icons/Person';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport { Link } from 'react-router-dom';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport useFetch from '../../../core/useFetch';\r\nimport Loading from '../Loading';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Fab from '@material-ui/core/Fab';\r\nimport AddIcon from '@material-ui/icons/Add';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    padding: theme.spacing(2, 3),\r\n  },\r\n  header: {\r\n    // padding: theme.spacing(2,2,0,2),\r\n  },\r\n  fab: {\r\n    position: 'absolute',\r\n    bottom: theme.spacing(2),\r\n    right: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default ({ match }) => {\r\n  const classes = useStyles();\r\n  const [{ data, isLoading, error }] = useFetch(\r\n    {\r\n      url: '/users',\r\n      method: 'GET',\r\n      responseType: 'json',\r\n    },\r\n    [],\r\n  );\r\n\r\n  if (isLoading) {\r\n    return <Loading/>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box bgcolor=\"error.main\" color=\"background.paper\" p={2}>\r\n        {error}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Grid item md={6}>\r\n      <Paper className={classes.paper}>\r\n        <div className={classes.header}>\r\n          <Typography variant=\"h5\" component=\"h3\">\r\n            Users\r\n          </Typography>\r\n        </div>\r\n        <List>\r\n          {data.users.map(user => (\r\n            <ListItem button key={user.id} component={Link} to={`${match.url}/${user.id}`}>\r\n              <ListItemIcon>\r\n                <Person/>\r\n              </ListItemIcon>\r\n              <ListItemText primary={user.name + '  ' + user.user_id} secondary={user.room_id}/>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </Paper>\r\n\r\n      <Fab\r\n        color=\"primary\"\r\n        aria-label=\"add\"\r\n        className={classes.fab}\r\n        component={Link}\r\n        to=\"/users/create\"\r\n      >\r\n        <AddIcon />\r\n      </Fab>\r\n    </Grid>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from 'react';\r\nimport Box from '@material-ui/core/Box';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport core from '../../../core';\r\nimport useFetch from '../../../core/useFetch';\r\nimport Loading from '../Loading';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Redirect } from 'react-router-dom';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nconst defaultUser = {\r\n  user_id: '',\r\n  name: '',\r\n  room_id: '',\r\n  password: '',\r\n  api_key: '',\r\n  last_login_at: 0,\r\n};\r\n\r\nexport default ({ match }) => {\r\n  const classes = useStyles();\r\n  const { userId } = match.params;\r\n  const [{ data, isLoading, error }] = useFetch(\r\n    {\r\n      url: `/users/${userId}`,\r\n      method: 'GET',\r\n      responseType: 'json',\r\n    },\r\n    {\r\n      user: defaultUser,\r\n    },\r\n  );\r\n  const [values, setValues] = useState(defaultUser);\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setValues(values => ({\r\n      ...values,\r\n      ...data.user,\r\n    }));\r\n  }, [data.user]);\r\n\r\n  const handleChange = event => setValues({\r\n    ...values,\r\n    [event.target.name]: event.target.value,\r\n  });\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await core.authenticatedRequest({\r\n        url: `/users/${userId}`,\r\n        method: 'PUT',\r\n        responseType: 'json',\r\n        data: values,\r\n      });\r\n\r\n      setIsSuccess(data.ok);\r\n    } catch (e) {\r\n      console.error(e);\r\n    }\r\n  };\r\n\r\n  if (isSuccess) {\r\n    return <Redirect to=\"/users\"/>;\r\n  }\r\n\r\n  if (isLoading) {\r\n    return <Loading/>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box bgcolor=\"error.main\" color=\"background.paper\" p={2}>\r\n        {error}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <Grid item md={6}>\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h5\" component=\"h3\">\r\n          Edit {data.user.name || data.user.user_id}\r\n        </Typography>\r\n\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <TextField\r\n            name=\"user_id\"\r\n            label=\"User ID\"\r\n            value={values.user_id}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            required\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            autoComplete=\"name\"\r\n            value={values.name}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            name=\"password\"\r\n            label=\"New Password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            type=\"password\"\r\n            autoComplete=\"new-password\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            name=\"api_key\"\r\n            label=\"API Key\"\r\n            value={values.api_key || ''}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            name=\"room_id\"\r\n            label=\"Room ID\"\r\n            value={values.room_id || ''}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            label=\"Last Login\"\r\n            value={new Date(values.last_login_at * 1000).toLocaleString()}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            InputProps={{\r\n              readOnly: true,\r\n            }}\r\n            fullWidth\r\n          />\r\n          <FormControl margin=\"normal\">\r\n            <Button type=\"submit\" color=\"primary\" variant=\"contained\">Save</Button>\r\n          </FormControl>\r\n        </form>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n}\r\n;\r\n","import React, { useState } from 'react';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport { makeStyles } from '@material-ui/core';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport core from '../../../core';\r\nimport Button from '@material-ui/core/Button';\r\nimport { Redirect } from 'react-router-dom';\r\nimport FormControl from '@material-ui/core/FormControl';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  paper: {\r\n    padding: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default ({ match }) => {\r\n  const classes = useStyles();\r\n  const [values, setValues] = useState({\r\n    user_id: '',\r\n    name: '',\r\n    password: '',\r\n    api_key: '',\r\n    room_id: '',\r\n  });\r\n  const [isSuccess, setIsSuccess] = useState(false);\r\n\r\n  const handleChange = event => {\r\n    setValues({ ...values, [event.target.name]: event.target.value });\r\n  };\r\n\r\n  const handleSubmit = async event => {\r\n    event.preventDefault();\r\n\r\n    try {\r\n      const { data } = await core.authenticatedRequest({\r\n        url: '/users',\r\n        method: 'POST',\r\n        responseType: 'json',\r\n        data: values,\r\n      });\r\n\r\n      setIsSuccess(data.ok);\r\n    } catch (e) {\r\n      console.log(e);\r\n    }\r\n  };\r\n\r\n  if (isSuccess) {\r\n    return <Redirect to=\"/users\"/>;\r\n  }\r\n\r\n  return (\r\n    <Grid item md={6}>\r\n      <Paper className={classes.paper}>\r\n        <Typography variant=\"h5\" component=\"h3\">\r\n          Create User\r\n        </Typography>\r\n\r\n        <form className={classes.form} onSubmit={handleSubmit}>\r\n          <TextField\r\n            required\r\n            name=\"user_id\"\r\n            label=\"User ID\"\r\n            value={values.user_id}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            required\r\n            name=\"name\"\r\n            label=\"Name\"\r\n            autoComplete=\"name\"\r\n            value={values.name}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            required\r\n            name=\"password\"\r\n            label=\"New Password\"\r\n            value={values.password}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            type=\"password\"\r\n            autoComplete=\"new-password\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            name=\"api_key\"\r\n            label=\"API Key\"\r\n            value={values.api_key}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <TextField\r\n            name=\"room_id\"\r\n            label=\"Room ID\"\r\n            value={values.room_id}\r\n            onChange={handleChange}\r\n            margin=\"normal\"\r\n            variant=\"filled\"\r\n            fullWidth\r\n          />\r\n          <FormControl margin=\"normal\">\r\n            <Button type=\"submit\" color=\"primary\" variant=\"contained\">Create</Button>\r\n          </FormControl>\r\n        </form>\r\n      </Paper>\r\n    </Grid>\r\n  );\r\n}\r\n;\r\n","import React from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport Users from './Users';\r\nimport User from './User';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport CreateUser from './CreateUser';\r\n\r\nexport default ({ match }) => {\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container spacing={4}>\r\n        <Route path={match.path} exact component={Users}/>\r\n        <Switch>\r\n          <Route path={`${match.path}/create`} component={CreateUser}/>\r\n          <Route path={`${match.path}/:userId`} component={User}/>\r\n        </Switch>\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n};\r\n","import ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport List from '@material-ui/core/List';\r\nimport React from 'react';\r\nimport { Dashboard } from '@material-ui/icons';\r\nimport { Link } from 'react-router-dom';\r\nimport useFetch from '../../core/useFetch';\r\nimport Loading from './Loading';\r\nimport Box from '@material-ui/core/Box';\r\n\r\nexport default () => {\r\n  const [{ data, isLoading, error }] = useFetch(\r\n    {\r\n      url: '/dashboards',\r\n      method: 'GET',\r\n      responseType: 'json',\r\n    },\r\n    [],\r\n  );\r\n\r\n  if (isLoading) {\r\n    return <Loading size={35} thickness={3} variant=\"small\"/>;\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <Box p={2}>\r\n        {error}\r\n      </Box>\r\n    );\r\n  }\r\n\r\n  return <List>\r\n    {data.dashboards.map((dashboard) => (\r\n      <ListItem button key={dashboard.id} component={Link} to={`/${dashboard.id}`}>\r\n        <ListItemIcon><Dashboard/></ListItemIcon>\r\n        <ListItemText primary={dashboard.name}/>\r\n      </ListItem>\r\n    ))}\r\n  </List>;\r\n};\r\n","import React from 'react';\r\nimport DashboardList from './DrawerDashboardList';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport { Link } from 'react-router-dom';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport UsersIcon from '@material-ui/icons/People';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport LogoutIcon from '@material-ui/icons/ExitToApp';\r\n\r\nexport default ({ onLogout }) => {\r\n  return <React.Fragment>\r\n    <DashboardList/>\r\n    <Divider/>\r\n    <List>\r\n      <ListItem button component={Link} to={`/users`}>\r\n        <ListItemIcon><UsersIcon/></ListItemIcon>\r\n        <ListItemText primary=\"Users\"/>\r\n      </ListItem>\r\n      <ListItem button onClick={onLogout}>\r\n        <ListItemIcon><LogoutIcon/></ListItemIcon>\r\n        <ListItemText primary=\"Logout\"/>\r\n      </ListItem>\r\n    </List>\r\n  </React.Fragment>;\r\n}\r\n","import React, { useEffect } from 'react';\r\nimport { Route, Switch } from 'react-router-dom';\r\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport Menu from '@material-ui/core/Menu';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport AccountCircle from '@material-ui/icons/AccountCircle';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Hidden from '@material-ui/core/Hidden';\r\nimport core from '../../core';\r\nimport Dashboard from './Dashboard';\r\nimport NoMatch from '../NoMatch';\r\nimport Users from './Users';\r\nimport DrawerContent from './DrawerContent';\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n  },\r\n  menuButton: {\r\n    marginRight: theme.spacing(2),\r\n    [theme.breakpoints.up('md')]: {\r\n      display: 'none',\r\n    },\r\n  },\r\n  drawer: {\r\n    [theme.breakpoints.up('md')]: {\r\n      width: drawerWidth,\r\n      flexShrink: 0,\r\n    },\r\n  },\r\n  drawerPaper: {\r\n    width: drawerWidth,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    fontFamily: 'Product Sans',\r\n    fontWeight: 'normal',\r\n  },\r\n  content: {\r\n    flexGrow: 1,\r\n    padding: theme.spacing(3),\r\n    [theme.breakpoints.only('sm')]: {\r\n      padding: theme.spacing(1),\r\n    },\r\n  },\r\n  toolbar: theme.mixins.toolbar,\r\n}));\r\n\r\nconst PrivateApp = ({ history }) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [anchorEl, setAnchorEl] = React.useState(null);\r\n  const [mobileOpen, setMobileOpen] = React.useState(false);\r\n  const open = Boolean(anchorEl);\r\n\r\n  const logOut = async () => {\r\n    await Promise.all([\r\n      core.auth.signOut(),\r\n      core.disconnect(),\r\n    ]);\r\n\r\n    history.push('/');\r\n  };\r\n\r\n  useEffect(() => {\r\n    const onConnect = async () => {\r\n      console.log('Socket connected');\r\n    };\r\n\r\n    core.connect();\r\n\r\n    core.socket.on('connect', onConnect);\r\n\r\n    return () => {\r\n      core.socket.off('connect', onConnect);\r\n    };\r\n  }, []);\r\n\r\n  function handleMenu(event) {\r\n    setAnchorEl(event.currentTarget);\r\n  }\r\n\r\n  function handleClose() {\r\n    setAnchorEl(null);\r\n  }\r\n\r\n  function handleDrawerToggle() {\r\n    setMobileOpen(!mobileOpen);\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <AppBar position=\"fixed\" className={classes.appBar}>\r\n        <Toolbar>\r\n          <IconButton\r\n            edge=\"start\"\r\n            className={classes.menuButton}\r\n            onClick={handleDrawerToggle}\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n          >\r\n            <MenuIcon/>\r\n          </IconButton>\r\n          <Typography variant=\"h6\" className={classes.title}>\r\n            Solomaha Home\r\n          </Typography>\r\n          <div>\r\n            <IconButton\r\n              aria-label=\"account of current user\"\r\n              aria-controls=\"menu-appbar\"\r\n              aria-haspopup=\"true\"\r\n              onClick={handleMenu}\r\n              color=\"inherit\"\r\n            >\r\n              <AccountCircle/>\r\n            </IconButton>\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              anchorOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              keepMounted\r\n              transformOrigin={{\r\n                vertical: 'top',\r\n                horizontal: 'right',\r\n              }}\r\n              open={open}\r\n              onClose={handleClose}\r\n              PaperProps={{\r\n                style: {\r\n                  width: 200,\r\n                },\r\n              }}\r\n            >\r\n              <MenuItem disabled divider>Logged in as {core.auth.userData.name}</MenuItem>\r\n              <MenuItem onClick={logOut}>Log Out</MenuItem>\r\n            </Menu>\r\n          </div>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <nav className={classes.drawer} aria-label=\"mailbox folders\">\r\n        <Hidden mdUp implementation=\"css\">\r\n          <Drawer\r\n            variant=\"temporary\"\r\n            open={mobileOpen}\r\n            anchor={theme.direction === 'rtl' ? 'right' : 'left'}\r\n            onClose={handleDrawerToggle}\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            ModalProps={{\r\n              keepMounted: true, // Better open performance on mobile.\r\n            }}\r\n          >\r\n            <DrawerContent onLogout={logOut}/>\r\n          </Drawer>\r\n        </Hidden>\r\n        <Hidden smDown implementation=\"css\">\r\n          <Drawer\r\n            classes={{\r\n              paper: classes.drawerPaper,\r\n            }}\r\n            variant=\"permanent\"\r\n            open\r\n          >\r\n            <div className={classes.toolbar}/>\r\n            <DrawerContent onLogout={logOut}/>\r\n          </Drawer>\r\n        </Hidden>\r\n      </nav>\r\n\r\n      <main className={classes.content}>\r\n        <div className={classes.toolbar}/>\r\n\r\n        <Switch>\r\n          <Route path=\"/users\" component={Users}/>\r\n          <Route path=\"/:dashboard?\" exact component={Dashboard}/>\r\n          <Route component={NoMatch}/>\r\n        </Switch>\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PrivateApp;\r\n","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch,\n} from 'react-router-dom';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport PrivateRoute from './PrivateRoute';\nimport SignIn from './SignIn';\nimport PrivateApp from './PrivateApp';\nimport NoMatch from './NoMatch';\n\nfunction App() {\n  return (\n    <Router>\n      <CssBaseline/>\n      <Switch>\n        <Route path=\"/login\" exact component={SignIn}/>\n        <PrivateRoute path=\"/\" component={PrivateApp}/>\n        <Route component={NoMatch}/>\n      </Switch>\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport core from './core';\nimport * as serviceWorker from './serviceWorker';\n\nwindow.sh = core;\n\nReactDOM.render(<App/>, document.getElementById('root'));\n\nserviceWorker.unregister();\n","import { useState, useEffect, useReducer } from 'react';\r\nimport core from './index';\r\n\r\nconst dataFetchReducer = (state, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_INIT':\r\n      return {\r\n        ...state,\r\n        isLoading: true,\r\n        error: null,\r\n      };\r\n    case 'FETCH_SUCCESS':\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: false,\r\n        data: action.payload,\r\n      };\r\n    case 'FETCH_FAILURE':\r\n      return {\r\n        ...state,\r\n        isLoading: false,\r\n        error: action.payload,\r\n      };\r\n    default:\r\n      throw new Error();\r\n  }\r\n};\r\n\r\nconst useFetch = (initialRequestData, initialData) => {\r\n  const [requestData, setRequestData] = useState(initialRequestData);\r\n\r\n  const [state, dispatch] = useReducer(dataFetchReducer, {\r\n    isLoading: true,\r\n    error: null,\r\n    data: initialData,\r\n  });\r\n\r\n  useEffect(() => {\r\n    let didCancel = false;\r\n\r\n    const fetchData = async () => {\r\n      dispatch({ type: 'FETCH_INIT' });\r\n\r\n      try {\r\n        const result = await core.authenticatedRequest(requestData);\r\n\r\n        if (!didCancel) {\r\n          if (result.data.ok) {\r\n            dispatch({ type: 'FETCH_SUCCESS', payload: result.data });\r\n          } else {\r\n            dispatch({ type: 'FETCH_FAILURE', payload: 'Wrong server response' });\r\n          }\r\n        }\r\n      } catch (error) {\r\n        if (!didCancel) {\r\n          dispatch({ type: 'FETCH_FAILURE', payload: error.message });\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n\r\n    return () => {\r\n      didCancel = true;\r\n    };\r\n  }, [requestData]);\r\n\r\n  return [state, setRequestData];\r\n};\r\n\r\nexport default useFetch;\r\n","class UserData {\r\n  /**\r\n   * @type {string}\r\n   */\r\n  id;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  name;\r\n  /**\r\n   * @type {string}\r\n   */\r\n  token;\r\n\r\n  /**\r\n   * @param {string} id\r\n   * @param {string} name\r\n   * @param {string} token\r\n   */\r\n  constructor(id, name, token) {\r\n    this.id = id;\r\n    this.name = name;\r\n    this.token = token;\r\n  }\r\n\r\n  static createFromData({ id, name, token }) {\r\n    return new UserData(id, name, token);\r\n  }\r\n}\r\n\r\nexport default UserData;","import UserData from './UserData';\r\n\r\nclass Auth {\r\n  static storageKey = 'user';\r\n\r\n  /**\r\n   * @type WebCore\r\n   */\r\n  core;\r\n\r\n  /**\r\n   * @type Storage\r\n   */\r\n  storage;\r\n\r\n  /**\r\n   * @type {UserData}\r\n   */\r\n  userData;\r\n\r\n  /**\r\n   * @param {WebCore} core\r\n   */\r\n  constructor(core) {\r\n    this.core = core;\r\n\r\n    this.loadFromStorage();\r\n  }\r\n\r\n  /**\r\n   * Check if user is authenticated\r\n   * @returns {boolean}\r\n   */\r\n  isAuthenticated() {\r\n    return Boolean(this.userData);\r\n  }\r\n\r\n  /**\r\n   * Returns auth token\r\n   * @returns {string}\r\n   */\r\n  getToken() {\r\n    return this.userData && this.userData.token;\r\n  }\r\n\r\n  loadFromStorage() {\r\n    let userDataStr;\r\n\r\n    if ((userDataStr = localStorage.getItem(Auth.storageKey))) {\r\n      this.storage = localStorage;\r\n    } else if ((userDataStr = sessionStorage.getItem(Auth.storageKey))) {\r\n      this.storage = sessionStorage;\r\n    }\r\n\r\n    try {\r\n      const userData = JSON.parse(userDataStr);\r\n\r\n      if (userData) {\r\n        this.userData = UserData.createFromData(userData);\r\n      }\r\n    } catch (e) {\r\n      this.userData = null;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {string} username\r\n   * @param {string} password\r\n   * @param {boolean} remember\r\n   * @returns {Promise<UserData|null>}\r\n   */\r\n  async login(username, password, remember) {\r\n    const { data } = await this.core.axios.request({\r\n      url: '/auth/login',\r\n      method: 'post',\r\n      data: { username, password, remember },\r\n      responseType: 'json',\r\n    });\r\n\r\n    if (data.ok && data.user) {\r\n      this.storage = remember ? localStorage : sessionStorage;\r\n      this.userData = UserData.createFromData(data.user);\r\n\r\n      this.storage.setItem(Auth.storageKey, JSON.stringify(this.userData));\r\n\r\n      this.core.emit('authenticated', this.userData);\r\n\r\n      return this.userData;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  /**\r\n   * @param {boolean} revokeToken\r\n   * @returns {Promise<boolean>}\r\n   */\r\n  async signOut(revokeToken = true) {\r\n    const { token } = this.userData;\r\n\r\n    this.storage.removeItem(Auth.storageKey);\r\n\r\n    this.userData = null;\r\n\r\n    try {\r\n      const { data } = await this.core.authenticatedRequest({\r\n        url: 'auth/logout',\r\n        method: 'post',\r\n        responseType: 'json',\r\n      }, token);\r\n\r\n      return data.ok;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\nexport default Auth;"],"sourceRoot":""}